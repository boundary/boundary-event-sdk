<?xml version="1.0"?>
<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">

  <id>dist</id>
    <formats>
      <format>tar.gz</format>
<!-- Distribute only using a compressed tar archive for the first release -->
<!--
      <format>zip</format>
-->
    </formats>
    <dependencySets>
      <dependencySet>
        <useProjectArtifact>true</useProjectArtifact>
        <outputDirectory>lib</outputDirectory>
        <unpack>false</unpack>
      </dependencySet>
    </dependencySets>
    <files>
      <file>
        <source>src/main/resources/META-INF/spring/event-application.xml</source>
        <outputDirectory>etc</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <file>
        <source>src/main/resources/META-INF/spring/service-check.xml</source>
        <outputDirectory>etc</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <file>
        <source>src/main/resources/META-INF/spring/snmp-metrics.xml</source>
        <outputDirectory>etc</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <file>
        <source>src/main/resources/META-INF/spring/webhook-application.xml</source>
        <outputDirectory>etc</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <file>
        <source>src/main/resources/log4j.properties</source>
        <outputDirectory>etc</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <file>
        <source>${project.build.scriptSourceDirectory}/boundary-event-sdk</source>
        <outputDirectory>etc</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <file>
        <source>target/${project.name}-${project.version}.jar</source>
        <outputDirectory>/</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <file>
        <source>${project.build.scriptSourceDirectory}/beventd</source>
        <outputDirectory>bin</outputDirectory>
        <fileMode>0755</fileMode>
      </file>
      <file>
        <source>${project.build.scriptSourceDirectory}/bmibc</source>
        <outputDirectory>bin</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <file>
        <source>${project.build.scriptSourceDirectory}/bwebhookapp</source>
        <outputDirectory>bin</outputDirectory>
        <fileMode>0744</fileMode>
      </file>
      <!-- Binary for running Boundary SDK JVM as a daemon -->
      <!-- TBD: Assembly is Unix like operating specific -->
      <file>
        <source>src/native/unix/jsvc</source>
        <outputDirectory>bin</outputDirectory>
        <fileMode>0755</fileMode>
      </file>
      <file>
        <source>${project.build.scriptSourceDirectory}/send-v1-trap</source>
        <outputDirectory>bin</outputDirectory>
        <fileMode>0755</fileMode>
      </file>
      <file>
        <source>${project.build.scriptSourceDirectory}/send-v2c-trap</source>
        <outputDirectory>bin</outputDirectory>
        <fileMode>0755</fileMode>
      </file>
      <file>
        <source>${project.build.scriptSourceDirectory}/send-syslog</source>
        <outputDirectory>bin</outputDirectory>
        <fileMode>0755</fileMode>
      </file>
    </files>
    <fileSets>
      <fileSet>
        <directory>${basedir}</directory>
          <outputDirectory></outputDirectory>
            <filtered>true</filtered>
              <includes>
                <include>README.md</include>
              </includes>
      </fileSet>

      <!-- Syslog specific configuration files -->
      <fileSet>
        <directory>src/main/resources</directory>
        <outputDirectory>etc/syslog</outputDirectory>
        <filtered>true</filtered>
        <fileMode>0744</fileMode>
        <includes>
          <include>syslog.*</include>
          <include>snmp.*</include>
        </includes>
        <excludes>
          <exclude>syslog.event.properties</exclude>
        </excludes>
      </fileSet>
<!-- TBD: Bundling of the documentation with the distribution -->
<!--
      <fileSet>
        <directory>target/apidocs</directory>
        <outputDirectory>doc/apidocs</outputDirectory>
        <fileMode>0744</fileMode>
      </fileSet>
      <fileSet>
        <directory>target/site</directory>
        <outputDirectory>doc</outputDirectory>
        <fileMode>0744</fileMode>
      </fileSet>
-->
      <fileSet>
        <directory>target/classes/mibrepository</directory>
        <outputDirectory>var/mibrepository</outputDirectory>
        <directoryMode>0744</directoryMode>
        <includes>
          <include>*</include>
        </includes>
      </fileSet>
      <fileSet>
        <directory>logs</directory>
        <outputDirectory>logs</outputDirectory>
        <directoryMode>0744</directoryMode>
        <includes>
          <include>*</include>
        </includes>
      </fileSet>
    </fileSets>
</assembly>

